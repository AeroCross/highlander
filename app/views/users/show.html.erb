<%- provide :head do -%>
   <%= stylesheet_link_tag :user -%>
<%- end -%>

<section class="user-details">

  <p class="avatar"><%= image_tag @user.avatar_url 150 %></p>

  <div class="info-block">

  <h2><%= link_to @user.name, @user %></h2>
  <p class="bio"><%= @user.bio || "#{@user.name} hasn't added a bio yet." %></p>

  <ul class="stats">
    <li class="total-score"><span><%= @user.total_score %></span> Total Score</li>
    <li class="total-badges"><span><%= @user.achievements.count %></span> Badges</li>
  </ul>

  </div>

</section>

<section class="badges">

  <h2>Badges</h2>

  <ul>
    <%- @user.achievements.each do |achievement| %>
      <li><%= render partial: 'shared/badge', locals: { achievement: achievement } %></li>
    <%- end %>
  </ul>

</section>

<section class="summary">

  <h2>Summary</h2>

  <ul>
    <%- @user.metric_totals.each do |metric| %>
      <li class="<%= metric.description %>">
         <span class="value"><strong><%= metric.event_total %></strong></span>
         <span class="description"><%= metric.description.titleize.pluralize(metric.event_total) %></span>
      </li>
    <%- end %>
  </ul>

</section>
